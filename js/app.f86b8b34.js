(function(e){function t(t){for(var n,s,o=t[0],l=t[1],c=t[2],d=0,f=[];d<o.length;d++)s=o[d],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&f.push(a[s][0]),a[s]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);u&&u(t);while(f.length)f.shift()();return i.push.apply(i,c||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],n=!0,o=1;o<r.length;o++){var l=r[o];0!==a[l]&&(n=!1)}n&&(i.splice(t--,1),e=s(s.s=r[0]))}return e}var n={},a={app:0},i=[];function s(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=e,s.c=n,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(r,n,function(t){return e[t]}.bind(null,n));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var u=l;i.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"034f":function(e,t,r){"use strict";r("85ec")},"12cb":function(e,t,r){t["en-US"]=r("fdfc"),t["zh-CN"]=r("3e1e")},2148:function(e,t,r){"use strict";r("5451")},3953:function(e,t,r){"use strict";r("564a")},"3e1e":function(e){e.exports=JSON.parse('{"name":"中文 (简体)","title":"Boot编辑器","step1:title":"1. 打开一个Boot镜像文件","step1:image":"1. 镜像文件：","step2:customize":"2. 自定义","step2:reset":"重置所有","step2:back":"返回","step2:next":"下一步","step3:export":"3. 导出","step3:download":"导出","dropfile:active":"将文件拖动到这里","dropfile:title":"拖入或<a>选择</a>一个文件","forum:magic":"Magic","forum:pagesize":"页面大小","forum:headerversion":"内核头版本","forum:headersize":"内核头大小","forum:imageid":"镜像ID","forum:kernelsize":"内核大小","forum:kerneladdress":"内核地址","forum:kernelimage":"内核镜像","forum:ramdisksize":"Ramdisk大小","forum:ramdiskaddress":"Ramdisk地址","forum:ramdiskimage":"Ramdisk镜像","forum:2sbsize":"2nd-stage BL大小","forum:2sbaddress":"2nd-stage BL地址","forum:2sbimage":"2nd-stage BL镜像","forum:tagsaddress":"Tags地址","forum:dtsize":"DT大小","forum:dtimage":"DT镜像","forum:recdtbosize":"Recovery DTBO大小","forum:recdtbooffset":"Recovery DTBO offset","forum:recdtboimage":"Recovery DTBO镜像","forum:dtbsize":"DTB大小","forum:dtbaddress":"DTB地址","forum:dtbimage":"DTB镜像","forum:ospatchlevel":"系统补丁级别","forum:osversion":"系统版本","forum:board":"主板","forum:cmdline":"命令行","imagereplacer:replace":"替换","imagereplacer:remove":"移除","imagereplacer:reset":"重置","imagereplacer:export":"导出","selecteditor:reset":"重置","texteditor:reset":"重置","valueeditor:reset":"重置","valuepresenter:notpresent":"不存在","imagereplacer:modified":"已修改","imagereplacer:removed":"已移除","imagereplacer:notpresent":"不存在","END":""}')},5451:function(e,t,r){},"564a":function(e,t,r){},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d"),r("b64b");var n=r("2b0e"),a=r("a925"),i=r("5ef8"),s=r.n(i),o=r("f309");n["a"].use(o["a"]);var l=new o["a"]({}),c=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",[r("v-content",[r("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[r("v-row",{attrs:{align:"center",justify:"center"}},[r("v-col",{attrs:{cols:"12",sm:"10",md:"8"}},[r("header",[r("div",{staticClass:"langs"},[r("v-select",{attrs:{solo:"",dense:"",flat:"",items:e.langs,"prepend-inner-icon":"mdi-web"},model:{value:e.$root.$i18n.locale,callback:function(t){e.$set(e.$root.$i18n,"locale",t)},expression:"$root.$i18n.locale"}})],1),r("h1",{domProps:{innerHTML:e._s(e.$t("title"))}})]),r("v-expansion-panels",{attrs:{accordion:"",mandatory:"",readonly:!e.file},model:{value:e.panel,callback:function(t){e.panel=t},expression:"panel"}},[r("v-expansion-panel",[r("v-expansion-panel-header",[null==e.file?r("strong",[e._v(e._s(e.$t("step1:title")))]):r("strong",[e._v(e._s(e.$t("step1:image"))+e._s(e.file.name))])]),r("v-expansion-panel-content",[r("FileDrop",{on:{change:e.handleFile}})],1)],1),r("v-expansion-panel",[r("v-expansion-panel-header",[r("strong",[e._v(e._s(e.$t("step2:customize")))])]),r("v-expansion-panel-content",[r("Form",{attrs:{initial:e.initial,values:e.values},on:{change:e.handleChange,replace:e.handleReplace,remove:e.handleRemove,export:e.handleExport}}),r("div",{staticClass:"d-flex"},[r("v-btn",{attrs:{color:"primary",text:""},on:{click:e.handleResetAll}},[r("v-icon",{attrs:{left:""}},[e._v("mdi-restore")]),e._v(e._s(e.$t("step2:reset")))],1),r("v-btn",{staticClass:"ml-auto",staticStyle:{"margin-right":"1em"},attrs:{color:"primary",text:""},on:{click:function(t){e.panel=0}}},[e._v(e._s(e.$t("step2:back")))]),r("v-btn",{attrs:{color:"primary",depressed:""},on:{click:function(t){e.panel=2}}},[e._v(e._s(e.$t("step2:next")))])],1)],1)],1),r("v-expansion-panel",[r("v-expansion-panel-header",[r("strong",[e._v(e._s(e.$t("step3:export")))])]),r("v-expansion-panel-content",[r("div",{staticClass:"d-flex flex-column justify-center align-center",staticStyle:{"padding-top":"40px","padding-bottom":"40px"}},[r("v-btn",{attrs:{color:"primary",depressed:"",large:""},on:{click:e.handleBuild}},[r("v-icon",{attrs:{left:""}},[e._v("mdi-download")]),e._v(e._s(e.$t("step3:download"))+" ")],1)],1)])],1)],1),r("footer",[e._v(" Copyright © 2020 MoKee Open Source Project, mod by vaginessa| "),r("a",{attrs:{href:"https://github.com/vaginessa/boot-repacker"}},[e._v("Github")])])],1)],1)],1)],1)],1)},u=[],d=r("ade3"),f=r("5530"),p=r("1da1"),m=(r("96cf"),r("d81d"),r("4e827"),r("b0c0"),r("d3b7"),r("ddb0"),r("25f0"),r("21a6")),v=r("7a1a"),h=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("upload",{ref:"upload",staticClass:"upload",attrs:{accept:".img",drop:!0,"drop-directory":!1},on:{"input-file":e.selectFile},model:{value:e.files,callback:function(t){e.files=t},expression:"files"}},[e.uploader&&e.uploader.dropActive?r("div",{staticClass:"upload-hint active",domProps:{innerHTML:e._s(e.$t("dropfile:active"))}}):e.selected?r("div",{staticClass:"upload-hint selected"},[e._v(e._s(e.selected?e.selected.name:null))]):r("div",{staticClass:"upload-hint",domProps:{innerHTML:e._s(e.$t("dropfile:title"))}})])},b=[],g=(r("8a79"),r("8019")),_=r.n(g),x={name:"App",components:{upload:_.a},data:function(){return{files:[],uploader:null,selected:null}},mounted:function(){this.uploader=this.$refs.upload},watch:{selected:function(e){this.$emit("change",e)}},methods:{selectFile:function(e){e&&e.name.endsWith(".img")?this.selected=e.file:this.selected=null}}},k=x,z=(r("2148"),r("2877")),y=Object(z["a"])(k,h,b,!1,null,null,null),w=y.exports,E=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("v-row",[r("v-col",{attrs:{cols:"6",lg:"3"}},[r("ValuePresenter",{attrs:{label:e.$t("forum:magic"),initial:e.initial.magic,value:e.initial.magic}})],1),r("v-col",{attrs:{cols:"6",lg:"3"}},[r("ValueEditor",{attrs:{":label":e.$t("forum:pagesize"),dec:!0,initial:e.initial.page_size,value:e.values.page_size},on:{change:function(t){return e.handleChange("page_size",t)}}})],1),r("v-col",{attrs:{cols:"6",lg:"3"}},[r("SelectEditor",{attrs:{label:e.$t("forum:headerversion"),items:e.header_versions,initial:e.initial.header_version,value:e.values.header_version},on:{change:function(t){return e.handleChange("header_version",t)}}})],1),r("v-col",{attrs:{cols:"6",lg:"3"}},[r("ValuePresenter",{attrs:{label:e.$t("forum:headersize"),initial:e.initial.header_size,value:e.values.header_size}})],1)],1),r("v-row",[r("v-col",{attrs:{cols:"12"}},[r("ValuePresenter",{attrs:{label:e.$t("forum:imageid"),initial:e.initial.img_id,value:e.values.img_id}})],1)],1),r("v-row",[r("v-col",{attrs:{cols:"6",lg:"3"}},[r("ValuePresenter",{attrs:{label:e.$t("forum:kernelsize"),initial:e.initial.kernel_size,value:e.values.kernel_size}})],1),r("v-col",{attrs:{cols:"6",lg:"3"}},[r("ValueEditor",{attrs:{label:e.$t("forum:kerneladdress"),hex:4,initial:e.initial.kernel_addr,value:e.values.kernel_addr},on:{change:function(t){return e.handleChange("kernel_addr",t)}}})],1),r("v-col",{attrs:{cols:"12",lg:"6"}},[r("ImageReplacer",{attrs:{label:e.$t("forum:kernelimage"),"default-name":"kernel.img",initial:e.initial.kernel,value:e.values.kernel},on:{replace:function(t){return e.handleReplace("kernel",t)},remove:function(){return e.handleRemove("kernel")},export:function(){return e.handleExport("kernel","kernel.img")}}})],1)],1),r("v-row",[r("v-col",{attrs:{cols:"6",lg:"3"}},[r("ValuePresenter",{attrs:{label:e.$t("forum:ramdisksize"),initial:e.initial.ramdisk_size,value:e.values.ramdisk_size}})],1),r("v-col",{attrs:{cols:"6",lg:"3"}},[r("ValueEditor",{attrs:{label:e.$t("forum:ramdiskaddress"),hex:4,initial:e.initial.ramdisk_addr,value:e.values.ramdisk_addr},on:{change:function(t){return e.handleChange("ramdisk_addr",t)}}})],1),r("v-col",{attrs:{cols:"12",lg:"6"}},[r("ImageReplacer",{attrs:{label:e.$t("forum:ramdiskimage"),"default-name":"ramdisk.cpio.gz",initial:e.initial.ramdisk,value:e.values.ramdisk},on:{replace:function(t){return e.handleReplace("ramdisk",t)},remove:function(){return e.handleRemove("ramdisk")},export:function(){return e.handleExport("ramdisk","ramdisk.cpio.gz")}}})],1)],1),r("v-row",[r("v-col",{attrs:{cols:"6",lg:"3"}},[r("ValuePresenter",{attrs:{label:e.$t("forum:2sbsize"),initial:e.initial.second_size,value:e.values.second_size}})],1),r("v-col",{attrs:{cols:"6",lg:"3"}},[r("ValueEditor",{attrs:{label:e.$t("forum:2sbaddress"),hex:4,initial:e.initial.second_addr,value:e.values.second_addr},on:{change:function(t){return e.handleChange("second_addr",t)}}})],1),r("v-col",{attrs:{cols:"12",lg:"6"}},[r("ImageReplacer",{attrs:{label:e.$t("forum:2sbimage"),"default-name":"second.img",initial:e.initial.second,value:e.values.second},on:{replace:function(t){return e.handleReplace("second",t)},remove:function(){return e.handleRemove("second")},export:function(){return e.handleExport("second","second.img")}}})],1)],1),r("v-row",[r("v-col",{attrs:{cols:"6",lg:"3"}},[r("ValueEditor",{attrs:{label:e.$t("forum:tagsaddress"),hex:4,initial:e.initial.tags_addr,value:e.values.tags_addr},on:{change:function(t){return e.handleChange("tags_addr",t)}}})],1),0==e.values.header_version?r("v-col",{attrs:{cols:"6",lg:"3"}},[r("ValuePresenter",{attrs:{label:e.$t("forum:dtsize"),initial:e.initial.dt_size,value:e.values.dt_size}})],1):e._e(),0==e.values.header_version?r("v-col",{attrs:{cols:"12",lg:"6"}},[r("ImageReplacer",{attrs:{label:e.$t("forum:dtimage"),"default-name":"dt.img",initial:e.initial.dt,value:e.values.dt},on:{replace:function(t){return e.handleReplace("dt",t)},remove:function(){return e.handleRemove("dt")},export:function(){return e.handleExport("dt","dt.img")}}})],1):e._e()],1),e.values.header_version>0?r("v-row",[r("v-col",{attrs:{cols:"6",lg:"3"}},[r("ValuePresenter",{attrs:{label:e.$t("forum:recdtbosize"),initial:e.initial.recovery_dtbo_size,value:e.values.recovery_dtbo_size}})],1),r("v-col",{attrs:{cols:"6",lg:"3"}},[r("ValuePresenter",{attrs:{label:e.$t("forum:recdtbooffset"),initial:e.initial.recovery_dtbo_offset,value:e.values.recovery_dtbo_offset}})],1),r("v-col",{attrs:{cols:"12",lg:"6"}},[r("ImageReplacer",{attrs:{label:e.$t("forum:recdtboimage"),"default-name":"recovery_dtbo.img",initial:e.initial.recovery_dtbo,value:e.values.recovery_dtbo},on:{replace:function(t){return e.handleReplace("recovery_dtbo",t)},remove:function(){return e.handleRemove("recovery_dtbo")},export:function(){return e.handleExport("recovery_dtbo","recovery_dtbo.img")}}})],1)],1):e._e(),e.values.header_version>1?r("v-row",[r("v-col",{attrs:{cols:"6",lg:"3"}},[r("ValuePresenter",{attrs:{label:e.$t("forum:dtbsize"),initial:e.initial.dtb_size,value:e.values.dtb_size}})],1),r("v-col",{attrs:{cols:"6",lg:"3"}},[r("ValueEditor",{attrs:{label:e.$t("forum:dtbaddress"),hex:4,initial:e.initial.dtb_addr,value:e.values.dtb_addr},on:{change:function(t){return e.handleChange("dtb_addr",t)}}})],1),r("v-col",{attrs:{cols:"12",lg:"6"}},[r("ImageReplacer",{attrs:{label:e.$t("forum:dtbimage"),"default-name":"dtb.img",initial:e.initial.dtb,value:e.values.dtb},on:{replace:function(t){return e.handleReplace("dtb",t)},remove:function(){return e.handleRemove("dtb")},export:function(){return e.handleExport("dtb","dtb.img")}}})],1)],1):e._e(),r("v-row",[r("v-col",{attrs:{cols:"6",lg:"3"}},[r("ValueEditor",{attrs:{label:e.$t("forum:ospatchlevel"),reg:/^\d{4}-\d{2}$/,initial:e.initial.os_patch_level,value:e.values.os_patch_level},on:{change:function(t){return e.handleChange("os_patch_level",t)}}})],1),r("v-col",{attrs:{cols:"6",lg:"3"}},[r("ValueEditor",{attrs:{label:e.$t("forum:osversion"),reg:/^\d+\.\d+\.\d+$/,initial:e.initial.os_version,value:e.values.os_version},on:{change:function(t){return e.handleChange("os_version",t)}}})],1),r("v-col",{attrs:{cols:"12",lg:"6"}},[r("ValueEditor",{attrs:{label:e.$t("forum:board"),initial:e.initial.board,value:e.values.board},on:{change:function(t){return e.handleChange("board",t)}}})],1)],1),r("v-row",[r("v-col",{attrs:{cols:"12"}},[r("TextEditor",{attrs:{label:e.$t("forum:cmdline"),rows:"3","max-length":1536,initial:e.initial.cmdline,value:e.values.cmdline},on:{change:function(t){return e.handleChange("cmdline",t)}}})],1)],1)],1)},$=[],R=(r("7db0"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-text-field",{staticClass:"monospace",attrs:{label:e.label,value:e.value,messages:e.value!=e.initial?"Modified":"",placeholder:e.$t("valuepresenter:notpresent"),disabled:""}})}),I=[],O={name:"ValuePresenter",props:{label:String,initial:null,value:null}},j=O,B=r("6544"),L=r.n(B),V=r("8654"),S=Object(z["a"])(j,R,I,!1,null,null,null),U=S.exports;L()(S,{VTextField:V["a"]});var C=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-text-field",{staticClass:"monospace",attrs:{label:e.label,prefix:e.hex?"0x":"",messages:e.modified?"Modified":"",rules:[e.handleValidate],placeholder:" "},on:{blur:e.handleBlur},scopedSlots:e._u([e.modified?{key:"append",fn:function(){return[r("InlineButton",{attrs:{icon:"mdi-restore",hint:e.$t("valueeditor:reset")},on:{click:e.handleReset}})]},proxy:!0}:null],null,!0),model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})},T=[],D=(r("a9e3"),r("4d63"),r("ac1f"),r("466d"),r("4d90"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[r("v-btn",e._g({staticStyle:{"margin-top":"2px"},attrs:{icon:"","x-small":"",disabled:e.disabled},on:{click:e.handleClick}},n),[r("v-icon",[e._v(e._s(e.icon))])],1)]}}])},[r("span",[e._v(e._s(e.hint))])])}),P=[],N={name:"InlineButton",props:{icon:String,hint:String,disabled:Boolean},methods:{handleClick:function(){this.$emit("click")}}},M=N,F=r("8336"),A=r("132d"),H=r("3a2f"),J=Object(z["a"])(M,D,P,!1,null,null,null),K=J.exports;L()(J,{VBtn:F["a"],VIcon:A["a"],VTooltip:H["a"]});var G={name:"ValueEditor",components:{InlineButton:K},props:{label:String,initial:null,value:null,dec:Boolean,hex:Number,reg:RegExp},data:function(){return{model:this.format(this.initial)}},computed:{modified:function(){return this.value!=this.initial}},watch:{value:function(e){this.model=this.format(e)},model:function(e){var t=this,r=this.parse(e);r!=this.value&&this.$nextTick((function(){t.$emit("change",r)}))}},methods:{handleReset:function(){this.model=this.format(this.initial)},handleValidate:function(e){return this.dec?!isNaN(this.parse(e)):this.hex?!isNaN(this.parse(e))&&e.length==2*this.hex:!this.reg||"string"==typeof e&&!!e.match(this.reg)},handleBlur:function(){this.model=this.format(this.value)},format:function(e){return this.hex>0?isNaN(e)?0:e.toString(16).toUpperCase().padStart(2*this.hex,"0"):this.dec&&isNaN(e)?0:e},parse:function(e){return this.dec?parseInt(e):this.hex?parseInt(e,16):e}}},W=G,q=Object(z["a"])(W,C,T,!1,null,null,null),Q=q.exports;L()(q,{VTextField:V["a"]});var X=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-select",{staticClass:"monospace",attrs:{items:e.items,label:e.label,messages:e.modified?"Modified":""},scopedSlots:e._u([e.modified?{key:"append-outer",fn:function(){return[r("InlineButton",{attrs:{icon:"mdi-restore",hint:e.$t("selecteditor:reset")},on:{click:e.handleReset}})]},proxy:!0}:null],null,!0),model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})},Y=[],Z={name:"SelectEditor",components:{InlineButton:K},props:{label:String,items:Array,initial:null,value:null},data:function(){return{model:this.initial}},computed:{modified:function(){return this.value!=this.initial}},watch:{value:function(e){this.model=e},model:function(e){this.$emit("change",e)}},methods:{handleReset:function(){this.$emit("change",this.initial)}}},ee=Z,te=r("b974"),re=Object(z["a"])(ee,X,Y,!1,null,null,null),ne=re.exports;L()(re,{VSelect:te["a"]});var ae=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-textarea",{staticClass:"monospace",attrs:{label:e.label,messages:e.modified?"Modified":"",rules:[e.handleValidate],rows:e.rows,placeholder:" ",counter:"","no-resize":""},scopedSlots:e._u([e.modified?{key:"append",fn:function(){return[r("InlineButton",{attrs:{icon:"mdi-restore",hint:e.$t("texteditor:reset")},on:{click:e.handleReset}})]},proxy:!0}:null],null,!0),model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})},ie=[],se={name:"TextEditor",components:{InlineButton:K},props:{label:String,initial:String,value:String,maxLength:Number,rows:null},data:function(){return{model:this.initial}},computed:{modified:function(){return this.value!=this.initial}},watch:{value:function(e){this.model=e},model:function(e){this.$emit("change",e)}},methods:{handleReset:function(){this.$emit("change",this.initial)},handleValidate:function(e){return"number"!=typeof this.maxLength||e.length<=this.maxLength},handleBlur:function(){this.model=this.format(this.value)}}},oe=se,le=r("a844"),ce=Object(z["a"])(oe,ae,ie,!1,null,null,null),ue=ce.exports;L()(ce,{VTextarea:le["a"]});var de=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-text-field",{staticClass:"monospace",attrs:{label:e.label,value:e.name,messages:e.modified?e.$t("imagereplacer:modified"):"",placeholder:e.removed?e.$t("imagereplacer:removed"):e.$t("imagereplacer:notpresent"),readonly:""},scopedSlots:e._u([{key:"append",fn:function(){return[e.modified?[r("InlineButton",{attrs:{icon:"mdi-restore",hint:e.$t("imagereplacer:reset")},on:{click:e.handleReset}})]:[r("InlineButton",{attrs:{icon:"mdi-dots-vertical",hint:e.$t("imagereplacer:replace")},on:{click:e.handleReplace}}),e.presence?r("InlineButton",{attrs:{icon:"mdi-close",hint:e.$t("imagereplacer:remove")},on:{click:e.handleRemove}}):e._e()]]},proxy:!0},{key:"append-outer",fn:function(){return[r("InlineButton",{attrs:{icon:"mdi-download",hint:e.$t("imagereplacer:export"),disabled:!e.presence||e.modified},on:{click:e.handleExport}})]},proxy:!0}])})},fe=[],pe=r("3835"),me=r("36d5"),ve=r.n(me),he={name:"ImageReplacer",components:{InlineButton:K},props:{label:String,defaultName:String,initial:null,value:null},computed:{name:function(){return this.replaced?this.value.name:this.removed||!this.presence?null:this.defaultName},presence:function(){return null!=this.initial},modified:function(){return this.initial!=this.value},removed:function(){return this.modified&&null==this.value},replaced:function(){return this.modified&&this.value instanceof File}},methods:{handleReplace:function(){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function t(){var r,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ve()();case 2:r=t.sent,n=Object(pe["a"])(r,1),a=n[0],e.$emit("replace",a);case 6:case"end":return t.stop()}}),t)})))()},handleRemove:function(){this.$emit("remove")},handleReset:function(){this.$emit("replace",null)},handleExport:function(){this.$emit("export")}}},be=he,ge=Object(z["a"])(be,de,fe,!1,null,null,null),_e=ge.exports;L()(ge,{VTextField:V["a"]});var xe={name:"Form",components:{ValuePresenter:U,ValueEditor:Q,SelectEditor:ne,TextEditor:ue,ImageReplacer:_e},props:{initial:Object,values:Object},data:function(){return{header_versions:[{value:0,text:"v0",size:null},{value:1,text:"v1",size:1648},{value:2,text:"v2",size:1660}]}},methods:{handleChange:function(e,t){if(this.$emit("change",e,t),"header_version"==e){var r=this.header_versions.find((function(e){return e.value==t})),n=r.size;this.$emit("change","header_size",n)}},handleReplace:function(e,t){this.$emit("replace",e,t)},handleRemove:function(e){this.$emit("remove",e)},handleExport:function(e,t){this.$emit("export",e,t)}}},ke=xe,ze=(r("3953"),r("62ad")),ye=r("a523"),we=r("0fd9"),Ee=Object(z["a"])(ke,E,$,!1,null,null,null),$e=Ee.exports;L()(Ee,{VCol:ze["a"],VContainer:ye["a"],VRow:we["a"]});r("5cc6"),r("9a8c"),r("a975"),r("735e"),r("c1ac"),r("d139"),r("3a7b"),r("d5d6"),r("82f8"),r("e91f"),r("60bd"),r("5f96"),r("3280"),r("3fcc"),r("ca91"),r("25a1"),r("cd26"),r("3c5d"),r("2954"),r("649e"),r("219c"),r("170b"),r("b39a"),r("72f7");function Re(e){return new Promise((function(t,r){var n=new FileReader;n.onload=function(e){return t(new Uint8Array(e.target.result))},n.onabort=function(){return t(null)},n.onerror=function(e){return r(e)},n.readAsArrayBuffer(e)}))}r("99af"),r("fb6a");var Ie=r("1c35"),Oe=r("d4ec"),je=r("bee2"),Be=function(){function e(t){Object(Oe["a"])(this,e),this.buffer=Ie["Buffer"].from(t),this.ptr=0}return Object(je["a"])(e,[{key:"read",value:function(e){var t=this.buffer.slice(this.ptr,this.ptr+e);return this.ptr+=e,t}},{key:"readUInt32LE",value:function(){var e=this.buffer.readUInt32LE(this.ptr);return this.ptr+=4,e}},{key:"readUInt64LE",value:function(){var e=this.buffer.readUInt32LE(this.ptr);return this.ptr+=8,e}},{key:"reset",value:function(){this.ptr=0}},{key:"tell",value:function(){return this.ptr}}]),e}();function Le(e,t){return Math.floor((e+t-1)/t)}var Ve="ANDROID!";function Se(e){var t,r={},n=new Be(e);if(r.magic=n.read(8).toString(),r.magic!=Ve)throw new Error("Invalid magic!");r.kernel_size=n.readUInt32LE(),r.kernel_addr=n.readUInt32LE(),r.ramdisk_size=n.readUInt32LE(),r.ramdisk_addr=n.readUInt32LE(),r.second_size=n.readUInt32LE(),r.second_addr=n.readUInt32LE(),r.tags_addr=n.readUInt32LE(),r.page_size=n.readUInt32LE(),t=n.readUInt32LE(),t>2?(r.dt_size=t,r.header_version=0):(r.dt_size=0,r.header_version=t),t=n.readUInt32LE(),r.os_patch_level=function(){var e=t&parseInt("11111111111",2),r=e&parseInt("1111",2),n=2e3+(e>>4);return"".concat(n,"-").concat(r.toString().padStart(2,"0"))}(),r.os_version=function(){var e=t>>11,r=e>>14,n=e>>7&parseInt("1111111",2),a=e&parseInt("1111111",2);return"".concat(r,".").concat(n,".").concat(a)}(),r.board=n.read(16).toString();var a=Ie["Buffer"].alloc(1536);n.read(512).copy(a,0),r.img_id=n.read(32).toString("hex"),n.read(1024).copy(a,512),r.cmdline=Ue(a),r.header_version>0?(r.recovery_dtbo_size=n.readUInt32LE(),r.recovery_dtbo_offset=n.readUInt64LE()):(r.recovery_dtbo_size=0,r.recovery_dtbo_offset=0),r.header_version>0?r.header_size=n.readUInt32LE():r.header_size=null,r.header_version>1?(r.dtb_size=n.readUInt32LE(),r.dtb_addr=n.readUInt64LE()):(r.dtb_size=0,r.dtb_addr=0);var i=n.tell();if(i=Ce(i,r.page_size),r.kernel={offset:i,size:r.kernel_size},i=Ce(i+r.kernel_size,r.page_size),r.ramdisk={offset:i,size:r.ramdisk_size},i=Ce(i+r.ramdisk_size,r.page_size),r.second_size>0?(r.second={offset:i,size:r.second_size},i=Ce(i+r.second_size,r.page_size)):r.second=null,r.dt_size>0?(r.dt={offset:i,size:r.dt_size},i=Ce(i+r.dt_size,r.page_size)):r.dt=null,r.recovery_dtbo_size>0){if(r.recovery_dtbo_offset!=i)throw new Error("Mismatch recovery_dtbo_offset!");r.recovery_dtbo={offset:i,size:r.recovery_dtbo_size},i=Ce(i+r.recovery_dtbo_size,r.page_size)}else r.recovery_dtbo=null;return r.dtb_size>0?(r.dtb={offset:i,size:r.dtb_size},i=Ce(i+r.dtb_size,r.page_size)):r.dtb=null,r}function Ue(e){for(var t=0;t<e.length;t++)if(0==e[t])return e.slice(0,t).toString();return e.toString()}function Ce(e,t){return t*Le(e,t)}function Te(e,t,r){var n=t[r],a=n.offset,i=n.size;return e.slice(a,a+i)}var De=r("b85c"),Pe=function(){function e(t){Object(Oe["a"])(this,e),this.buffer=Ie["Buffer"].alloc(t,0),this.ptr=0}return Object(je["a"])(e,[{key:"write",value:function(e){e.copy(this.buffer,this.ptr),this.ptr+=e.length}},{key:"writeUInt32LE",value:function(e){this.buffer.writeUInt32LE(e,this.ptr),this.ptr+=4}},{key:"writeUInt64LE",value:function(e){return this.buffer.writeUInt32LE(e,this.ptr),this.ptr+=8,e}},{key:"skip",value:function(e){this.ptr+=e}},{key:"tell",value:function(){return this.ptr}}]),e}();function Ne(e,t){return Me.apply(this,arguments)}function Me(){return Me=Object(p["a"])(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(r instanceof File)){e.next=6;break}return e.next=3,Re(r);case 3:return e.abrupt("return",e.sent);case 6:if(!r||"number"!=typeof r.offset||"number"!=typeof r.size){e.next=10;break}return e.abrupt("return",t.slice(r.offset,r.offset+r.size));case 10:return e.abrupt("return",null);case 11:case"end":return e.stop()}}),e)}))),Me.apply(this,arguments)}var Fe=["kernel","ramdisk","second","dt","recovery_dtbo","dtb"];function Ae(e,t){return He.apply(this,arguments)}function He(){return He=Object(p["a"])(regeneratorRuntime.mark((function e(t,r){var n,a,i,s,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=Qe(r),a=new Pe(n),Je(a,r),i=Object(De["a"])(Fe),e.prev=4,i.s();case 6:if((s=i.n()).done){e.next=12;break}return o=s.value,e.next=10,Ke(a,t,r[o],r.page_size);case 10:e.next=6;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e["catch"](4),i.e(e.t0);case 17:return e.prev=17,i.f(),e.finish(17);case 20:return e.abrupt("return",a.buffer);case 21:case"end":return e.stop()}}),e,null,[[4,14,17,20]])}))),He.apply(this,arguments)}function Je(e,t){e.write(Ie["Buffer"].from(t.magic)),e.writeUInt32LE(t.kernel_size),e.writeUInt32LE(t.kernel_addr),e.writeUInt32LE(t.ramdisk_size),e.writeUInt32LE(t.ramdisk_addr),e.writeUInt32LE(t.second_size),e.writeUInt32LE(t.second_addr),e.writeUInt32LE(t.tags_addr),e.writeUInt32LE(t.page_size),t.dt_size>0?e.writeUInt32LE(t.dt_size):e.writeUInt32LE(t.header_version),e.writeUInt32LE(qe(t.os_patch_level,t.os_version));var r=Ie["Buffer"].alloc(16,0);Ie["Buffer"].from(t.board||"").copy(r),e.write(r);var n=Ie["Buffer"].alloc(1536,0);Ie["Buffer"].from(t.cmdline).copy(n),e.write(n.slice(0,512));var a=Ie["Buffer"].alloc(32,0);Ie["Buffer"].from(t.img_id,"hex").copy(a),e.write(a),e.write(n.slice(512)),t.header_version>0&&(e.writeUInt32LE(t.recovery_dtbo_size),e.writeUInt64LE(t.recovery_dtbo_offset)),t.header_version>0&&e.writeUInt32LE(t.header_size),t.header_version>1&&(e.writeUInt32LE(t.dtb_size),e.writeUInt64LE(t.dtb_addr)),We(e,t.page_size)}function Ke(e,t,r,n){return Ge.apply(this,arguments)}function Ge(){return Ge=Object(p["a"])(regeneratorRuntime.mark((function e(t,r,n,a){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ne(r,n);case 2:i=e.sent,i&&(t.write(Ie["Buffer"].from(i)),We(t,a));case 4:case"end":return e.stop()}}),e)}))),Ge.apply(this,arguments)}function We(e,t){var r=e.tell(),n=t*Le(r,t);e.skip(n-r)}function qe(e,t){var r=0;if(t&&t.match(/^(\d+)\.(\d+)\.(\d+)$/)){var n=[parseInt(RegExp.$1),parseInt(RegExp.$2),parseInt(RegExp.$3)],a=n[0],i=n[1],s=n[2];if(a<128&&i<128&&s<128){var o=a<<14|i<<7|s;r|=o<<11}}if(e&&e.match(/^(\d{4})-(\d{2})$/)){var l=[parseInt(RegExp.$1)-2e3,parseInt(RegExp.$2)],c=l[0],u=l[1];if(c>=0&&c<128&&u>0&&u<=12){var d=c<<4|u;r|=d}}return r}function Qe(e){var t,r=1,n=Object(De["a"])(Fe);try{for(n.s();!(t=n.n()).done;){var a=t.value;r+=Le(e["".concat(a,"_size")],e.page_size)}}catch(i){n.e(i)}finally{n.f()}return r*e.page_size}function Xe(e,t){return Ye.apply(this,arguments)}function Ye(){return Ye=Object(p["a"])(regeneratorRuntime.mark((function e(t,r){var n,a,i,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=[],e.next=3,Ze(n,t,r.kernel);case 3:return e.next=5,Ze(n,t,r.ramdisk);case 5:return e.next=7,Ze(n,t,r.second);case 7:if(0!=r.header_version){e.next=10;break}return e.next=10,Ze(n,t,r.dt);case 10:if(!(r.header_version>0)){e.next=13;break}return e.next=13,Ze(n,t,r.recovery_dtbo);case 13:if(!(r.header_version>1)){e.next=16;break}return e.next=16,Ze(n,t,r.dtb);case 16:return a=Ie["Buffer"].concat(n),e.next=19,crypto.subtle.digest("SHA-1",a.buffer);case 19:return i=e.sent,s=Ie["Buffer"].alloc(32,0),Ie["Buffer"].from(i).copy(s),e.abrupt("return",s);case 23:case"end":return e.stop()}}),e)}))),Ye.apply(this,arguments)}function Ze(e,t,r){return et.apply(this,arguments)}function et(){return et=Object(p["a"])(regeneratorRuntime.mark((function e(t,r,n){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ne(r,n);case 2:a=e.sent,a?(a.length>0&&t.push(Ie["Buffer"].from(a)),t.push(tt(a.length))):t.push(tt(0));case 4:case"end":return e.stop()}}),e)}))),et.apply(this,arguments)}function tt(e){var t=Ie["Buffer"].alloc(4);return t.writeUInt32LE(e),t}function rt(e,t){var r=[];function n(){var e,n=1,a=Object(De["a"])(r);try{for(a.s();!(e=a.n()).done;){var i=e.value;n+=Le(i,t.page_size)}}catch(s){a.e(s)}finally{a.f()}return n*t.page_size}return"kernel"==e?{offset:n(),size:t.kernel_size}:(r.push(t.kernel_size),"ramdisk"==e?{offset:n(),size:t.ramdisk_size}:(r.push(t.ramdisk_size),"second"==e?{offset:n(),size:t.second_size}:(r.push(t.second_size),"dt"==e?{offset:n(),size:t.dt_size}:(r.push(t.dt_size),"recovery_dtbo"==e?{offset:n(),size:t.recovery_dtbo_size}:(r.push(t.recovery_dtbo_size),"dtb"==e?{offset:n(),size:t.dtb_size}:void 0)))))}var nt=r("12cb"),at=r.n(nt),it=Object.keys(at.a).sort().map((function(e){return{text:at.a[e].name,value:e}})),st={name:"App",components:{FileDrop:w,Form:$e},data:function(){return{langs:it,panel:0,file:null,blob:null,initial:{},values:{}}},methods:{handleFile:function(e){var t=this;return Object(p["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(t.file=e,e){r.next=3;break}return r.abrupt("return");case 3:return r.prev=3,r.next=6,Re(e);case 6:t.blob=r.sent,t.initial=Se(t.blob),t.values=Object(f["a"])({},t.initial),t.panel=1,r.next=16;break;case 12:r.prev=12,r.t0=r["catch"](3),console.error("Failed parsing image",r.t0),t.file=null;case 16:case"end":return r.stop()}}),r,null,[[3,12]])})))()},handleChange:function(e,t){this.values=Object(f["a"])(Object(f["a"])({},this.values),{},Object(d["a"])({},e,t))},handleResetAll:function(){this.values=Object(f["a"])({},this.initial)},updateRecoveryDtboOffset:function(){var e=rt("recovery_dtbo",this.values),t=e.offset,r=e.size;this.values=Object(f["a"])(Object(f["a"])({},this.values),{},{recovery_dtbo_offset:r>0?t:0})},updateImageId:Object(v["debounce"])(200,Object(p["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Xe(this.blob,this.values);case 2:t=e.sent,this.values=Object(f["a"])(Object(f["a"])({},this.values),{},{img_id:t.toString("hex")});case 4:case"end":return e.stop()}}),e,this)})))),handleReplace:function(e,t){var r,n,a="".concat(e,"_size");t?this.values=Object(f["a"])(Object(f["a"])({},this.values),{},(r={},Object(d["a"])(r,e,t),Object(d["a"])(r,a,t.size),r)):this.values=Object(f["a"])(Object(f["a"])({},this.values),{},(n={},Object(d["a"])(n,e,this.initial[e]),Object(d["a"])(n,a,this.initial[a]),n));this.updateRecoveryDtboOffset(),this.updateImageId()},handleRemove:function(e){var t,r="".concat(e,"_size");this.values=Object(f["a"])(Object(f["a"])({},this.values),{},(t={},Object(d["a"])(t,e,null),Object(d["a"])(t,r,0),t)),this.updateRecoveryDtboOffset(),this.updateImageId()},handleExport:function(e,t){var r=Te(this.blob,this.initial,e),n=new Blob([r]);Object(m["saveAs"])(n,t)},handleBuild:function(){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Ae(e.blob,e.values);case 2:r=t.sent,n=new Blob([r]),Object(m["saveAs"])(n,"".concat(e.file.name,"-rebuilt.img"));case 5:case"end":return t.stop()}}),t)})))()}}},ot=st,lt=(r("034f"),r("7496")),ct=r("a75b"),ut=r("cd55"),dt=r("49e2"),ft=r("c865"),pt=r("0393"),mt=Object(z["a"])(ot,c,u,!1,null,null,null),vt=mt.exports;L()(mt,{VApp:lt["a"],VBtn:F["a"],VCol:ze["a"],VContainer:ye["a"],VContent:ct["a"],VExpansionPanel:ut["a"],VExpansionPanelContent:dt["a"],VExpansionPanelHeader:ft["a"],VExpansionPanels:pt["a"],VIcon:A["a"],VRow:we["a"],VSelect:te["a"]}),n["a"].config.productionTip=!1,n["a"].use(a["a"]);var ht=new a["a"]({locale:s()(Object.keys(at.a)),fallbackLocale:"en-US",messages:at.a});new n["a"]({i18n:ht,vuetify:l,render:function(e){return e(vt)}}).$mount("#app")},"85ec":function(e,t,r){},fdfc:function(e){e.exports=JSON.parse('{"name":"English (US)","title":"Boot Repacker","step1:title":"1. Open an existing image","step1:image":"1. Image: ","step2:customize":"2. Customize","step2:reset":"Reset all","step2:back":"Back","step2:next":"Next","step3:export":"3. Export","step3:download":"Export","dropfile:active":"Drop the image here","dropfile:title":"Drop or <a>select</a> an image","forum:magic":"Magic","forum:pagesize":"Page size","forum:headerversion":"Header version","forum:headersize":"Header size","forum:imageid":"Image ID","forum:kernelsize":"Kernel size","forum:kerneladdress":"Kernel address","forum:kernelimage":"Kernel image","forum:ramdisksize":"Ramdisk size","forum:ramdiskaddress":"Ramdisk address","forum:ramdiskimage":"Ramdisk image","forum:2sbsize":"2nd-stage BL size","forum:2sbaddress":"2nd-stage BL address","forum:2sbimage":"2nd-stage BL image","forum:tagsaddress":"Tags address","forum:dtsize":"DT size","forum:dtimage":"DT image","forum:recdtbosize":"Recovery DTBO size","forum:recdtbooffset":"Recovery DTBO offset","forum:recdtboimage":"Recovery DTBO image","forum:dtbsize":"DTB size","forum:dtbaddress":"DTB address","forum:dtbimage":"DTB image","forum:ospatchlevel":"OS patch level","forum:osversion":"OS version","forum:board":"Board","forum:cmdline":"cmdline","imagereplacer:replace":"Replace","imagereplacer:remove":"Remove","imagereplacer:reset":"Reset","imagereplacer:export":"Export","selecteditor:reset":"Reset","texteditor:reset":"Reset","valueeditor:reset":"Reset","valuepresenter:notpresent":"Not present","imagereplacer:modified":"Modified","imagereplacer:removed":"Removed","imagereplacer:notpresent":"Not present","END":""}')}});
//# sourceMappingURL=app.f86b8b34.js.map